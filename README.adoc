= Malefix - FRC for Kotlin

Malefix is a Kotlin library designed for use in FRC (FIRST Robotics Competition) projects. It provides a variety of utilities and extensions to simplify the development of robot code. The library includes modules for handling PID controllers, logging, command binding, and more.

== Modules

=== `xyz.malefic.frc.extension`

This module contains extension functions and utilities for various FRC classes. It includes:

* Extension functions for rotation, pose, and unit conversions.
* Motor configuration utilities with sensible defaults.
* PID value helpers.
* PhotonVision result helpers.
* `Kommand`: Utilities for command-based programming.

=== `xyz.malefic.frc.pingu`

The `pingu` package provides a comprehensive set of utilities for control, logging, command binding, and motor/encoder management:

* `Pingu`: Data class for PID controllers with optional feedforward.
* `NetworkPingu`: Extends PIDController with network logging.
* `ProfiledPingu`: Data class for profiled PID controllers.
* `MagicPingu`: Controller with velocity, acceleration, and jerk.
* `AlertPingu`: Monitors CTRE Phoenix 6 devices and raises alerts.
* `Bingu`: Binds Xbox controller buttons to commands.
* `LogPingu`: Logging utilities.
* `Engu`: Encoder utilities.
* `Mongu`: Common interface implemented by motor classes for unified control.
* `TonguFX`: TalonFX motor class that extends TalonFX and implements Mongu interface with direct control access.
* `SparkuMax`: PWMSparkMax motor class that extends PWMSparkMax and implements Mongu interface.
* `TalonuSRX`: PWMTalonSRX motor class that extends PWMTalonSRX and implements Mongu interface.
* `MonguConfig`: Configuration interface for motors.
* `PWMTalonSRXConfig`, `PWMSparkMaxConfig`, `TalonFXConfig`: Motor controller configs.
* `Commangu`, `CommanguDsl`: Command binding utilities.

=== `xyz.malefic.frc.statemachine`

The `statemachine` package provides a comprehensive state machine framework that integrates with WPILib's command-based programming:

* `StateMachine`: Generic state machine for managing subsystem states with history tracking.
* `IntentCommand`: Base class for intent-based commands that coordinate multiple subsystems.
* `intentCommand()`: DSL builder for creating simple intent commands without creating classes.
* Extension functions for state-based command operations (`setStateAndWait`, `setState`, `waitUntil`, `runWhile`).

This framework helps teams create clear, maintainable robot code by:

* Keeping subsystems "smart" with explicit state machines
* Coordinating multi-subsystem operations safely
* Integrating seamlessly with WPILib's CommandScheduler
* Making code self-documenting and testable

For detailed documentation, see link:docs/STATE_MACHINES.md[State Machines Guide].

=== `xyz.malefic.frc.sub`

This module includes classes related to PhotonVision, a vision processing library used in FRC:

* `PhotonModule`: Represents a PhotonVision camera setup with pose estimation.

=== `xyz.malefic.frc.emu`

The `emu` package contains classes for handling game controller inputs:

* `Button`: Enum for joystick/game controller buttons.
* `Dir4`: Enum for four cardinal directions. (If not present, see `DirXY`/`DirYZ`.)
* `Dir8`: Enum for eight directions, including diagonals.
* `DirRotate`: Enum for rotational directions.
* `DirXY`: Enum for X/Y axis directions.
* `DirYZ`: Enum for Y/Z axis directions.

=== `xyz.malefic.frc.path`

This module contains pathfinding and trajectory utilities:

* `LocalADStarAK`: Local pathfinding algorithm implementation.

== Build and Deployment

The project uses Gradle for build automation. The `.github/workflows/deploy-docs.yml` file defines a GitHub Actions workflow for building and deploying the project documentation to GitHub Pages.

== Commit Guidelines

The `.kommit.yaml` file defines the commit message conventions for the project, including types, scopes, and options for allowing custom scopes and breaking changes.

== Documentation

For more detailed documentation, visit the project website at https://omydagreat.github.io/Malefix/.
